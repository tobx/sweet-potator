{% macro ingredient(ingredient) -%}
  <span class="quantity">
    {%- if ingredient.quantity is object -%}
      <span class="value">
        {%- if ingredient.quantity.value.fraction is defined -%}
          {{ ingredient.quantity.value.fraction.numerator -}}
          &frasl;
          {{- ingredient.quantity.value.fraction.denominator }}
        {%- else -%}
          {{ ingredient.quantity.value.integer }}
        {%- endif -%}
      </span>
      {%- if ingredient.quantity.unit is string -%}
        {{ " " }}<span class="unit">{{ ingredient.quantity.unit }}</span>
      {%- endif -%}
    {%- endif -%}
  </span>{{ lf -}}
  <span class="name">{{ lf -}}
    <span class="base">{{ ingredient.name }}</span>
    {%- if ingredient.kind is string -%}
      , <span class="kind">{{ ingredient.kind }}</span>
    {%- endif %}
    {%- if ingredient.quantity is object and ingredient.quantity.note is string -%}
      {{ " ("}}<span class="note">{{ ingredient.quantity.note }}</span>)
    {%- endif -%}
  </span>
{% endmacro ingredient %}
