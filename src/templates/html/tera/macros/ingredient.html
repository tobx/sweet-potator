{% macro ingredient(ingredient) -%}
  <span class="quantity">
    {%- if ingredient.quantity is object %}
      {%- if ingredient.quantity.value.fraction is defined -%}
        {{ ingredient.quantity.value.fraction.numerator }}/{{ ingredient.quantity.value.fraction.denominator }}
      {%- else -%}
        {{ ingredient.quantity.value.integer }}
      {%- endif %}
    {%- endif -%}
  </span>{{ lf -}}
  <span class="unit">
    {%- if ingredient.quantity is object and ingredient.quantity.unit is string -%}
      {{ ingredient.quantity.unit }}
    {%- endif -%}
  </span>{{ lf -}}
  <span class="name">{{ lf -}}
    <span class="base">{{ ingredient.name }}</span>
    {%- if ingredient.kind is string -%}
      , <span class="kind">{{ ingredient.kind }}</span>
    {%- endif %}
    {%- if ingredient.quantity is object and ingredient.quantity.note is string -%}
      {{ " ("}}<span class="note">{{ ingredient.quantity.note }}</span>)
    {%- endif -%}
  </span>
{% endmacro ingredient %}
